 Project Report, EEL6825 Pattern Recognition and Intelligent Systems, University of Florida, 23rd April 2020
Community Detection in Social Networks using Girvan-Newman Algorithm
Radhika Agrawal UFID: 6348-5581 agrawalr@ufl.edu
 ‐
Abstract: Social networks tends to lead to formation of a community structure. The dense connection between the entities themselves and rare connections with the other entities indicate communities. Community detection is a complex problem, for analysis of social network. Here, we’ll be solving this unsupervised clustering problem using a popular clustering approach, the Girvan-Newman algorithm. This algorithm supports community detection using parameters such as edge- betweenness and modularity. Detecting the communities present in the network, helps get a better understanding of the data and the relationships built in the network.
Keywords: Social network, Community, Clustering, Girvan- Newman algorithm
I. INTRODUCTION
Community is a group of entities which are closely connected to each other, as compared to the other entities present, based on any common ground between them. Community Detection is important for analyzing and understanding the social-network. This problem can be solved using any of the Unsupervised Clustering approaches. Here, we’ll be solving this problem using a hierarchical clustering approach, known as the Girvan-Newman algorithm. This approach is comparatively faster and much more feasible than the brute-force approach. The Girvan-Newman algorithm calculates the edge-betweenness, and based on the modularities we get the communities in the network. Eventually, we get the communities that are present in the network, which helps to analyze the complex networks, and understand it better.
Girvan-Newman algorithm. For the hierarchical method, we’ll be calculating the distances between each nodes, based on the closeness. We can visualize the same, using a dendrogram, built on the ranking of closeness between the nodes. This
 II.
When there is a
formation of communities between them. Community Detection is a core problem for the analysis of networks. There are different motives for community detection dependent on the network, such as for physics, biology, computer science, social networks. Communities help to identify the structure-function relationship of the network, and is similar to clustering of the network. The clustering is based on the concept of higher intra-connectivity, and lesser interconnectivity. There are numerous methods for clustering, here we’ll be using the Hierarchical method, in the form of
Fig1: Dendrogram based on Divisive Clustering based on Modularity
Here, we can see clusters can be formed across various levels of the dendrogram. The Girvan-Newman algorithm is building the clusters in reverse of the hierarchical clustering, each edge at a time using edge betweenness.
This algorithm works on two main components, edge- betweenness and modularity. Edge betweenness is the number of shortest paths passing through that edge, and modularity is the property to maximize the number of edges inside the community, and to reduce the edges between the communities. With the increase in modularity, the accuracy increases too. So, the concept of Girvan-Newman algorithm is to increase the modularity value and do division of communities based on the edge-betweenness. Which in the end, evaluates the community structure by clubbing the similar items of the dataset together.
III. DESCRIPTION
A. Problem Statement
Analysis of a group of large amount of nodes, that form a network, is a cumbersome task. To understand various properties of this network, the best solution would be to form clusters in the network. These clusters will help know the relationship of the nodes with each other, and commonalities between the nodes. Thus, we have to detect the communities of the network, to find information for the analysis of the network.
BACKGROUND
large number of entities, it leads to
helps in discerning a pattern in the datasets, and as follows:
can be seen
 
 1.
B. Approach Dataset Selection
3. Implementation
We will be implementing the Girvan-Newman algorithm using Python Language for .gml datafile for the social network of characters of the novel, Les Miserables. Girvan-Newman algorithm is equivalent of the hierarchical clustering. It is a divisive method, which builds upon the communities from the nodes based on edge-betweenness and modularity. The algorithm works on the following loop invariant :
1) Calculate the betweenness of all the edges
2) Removing the edges with the highest betweenness
3) Recalculating the betweenness and modularity after
removal of that edge
4) Repeat till no edges remain
5) Maximum of all the modularities calculated will give the
optimum communities of the network
Fig3: Flowchart for the Girvan-Newman algorithm model for Community Detection
Elaborating on the algorithm mentioned above, the edge betweenness centrality is calculated by evaluating the number of shortest paths passing through that edge.
Project Report, EEL6825 Pattern Recognition and Intelligent Systems, University of Florida, 23rd April 2020
The dataset chosen to implement the model, contains the co- appearance network (igraph object) of characters in the famous novel ‘Les Misérables’ (written by the French writer Victor Hugo and published in 1862). This dataset was created by D. E. Knuth in 1993, and shows the social network formed between the 77 characters of the novel, and relations between these characters. The motivation to chose this dataset was it’s neatness, which helps in visualizing the network more clear compared to others.
2. Data Preprocessing
As a data preprocessing step, examination of the data is required, to verify whether the data is clean, by checking if there are any unknown or missing entries in the data. The data examination is followed by extracting the data. The extraction of the data is done, from the .gml data file, by creating a graph of the form (V,E) having nodes and edges between them so that we can implement the model on the network. The number of nodes(n) is the total number of vertices(V) present in the graph, and the number of edges(m) is the total number of edges(E) between these vertices present. As the adjacent matrix along with the weighted degree of each entity, will be necessary arguments required for executing the Girvan Newman algorithm, we’ll evaluate them as a preprocessing step. The weighted adjacency matrix for the number of edges, of all the nodes is evaluated by the convention that edge adds 1 to the appropriate cell in the matrix, and each loop adds 2. Also, the degree of a vertex can be found by taking the sum of the values in either its respective row or column in the adjacency matrix. Both, of these arguments along with the concept of edge betweenness and modularity in the Girvan- Newman algorithm, returns C = c1,c2,c3....ck, which is a set that indicates communities found in the graph network, where k is the number of communities.
Fig2: Graph for the social network of dataset of Les Miserables
  
 Project Report, EEL6825 Pattern Recognition and Intelligent Systems, University of Florida, 23rd April 2020
 Fig4: Number of shortest path crossing an edge calculation, which is equivalent to Edge-betweenness
The edge with the highest edge betweenness centrality value, is removed. Recalculation of the betweenness of all the edges after removal of this edge is done. This process is repeated, till no edges remain. Once, all the entities, are separate, the edges will be added back in the reverse order of the removal. At every addition, the modularity is calculated.
Modularity is a numerical index of how good a particular division is. It is the value which increase the edges in the community, and reduces the edges between the different communities. For a division with g groups, we define a g × g matrix e whose component ‘eij’ is the fraction of edges in the original network that connect vertices in group i to those in group j. Then the modularity is defined to be
where ∥x∥ indicates the sum of all elements of x. Physically, Q is the fraction of all edges that lie within communities minus the expected value of the same quantity in a graph in which the vertices have the same degrees but edges are placed at random without regard for the communities.
In brief, modularity compares the observed fraction of edges inside communities to the expected fraction of edges inside communities in network. The split, which has the maximum modularity will return the optimum communities detected in the network.
The division of communities help in understanding the network better, as it symbolizes the entire network based on the relations between the different entities present, which is much easier to visualize compared to symbolizing each entry separately.
Girvan-Newman algorithm implementation works much more faster as compared to the brute force method, in which all possible division of the nodes into communities are found. Thus, our approach is feasible for large datasets and is very time efficient. For the removal of edge, the complexity of edge betweenness is O(EN); thus, the time complexity for this algorithm is O(E^2N).
  IV.
EVALUATION
As community detection, is a difficult task, and computationally hard problem. There are several approaches suggested over the period of time. Such as minimum-cut method, which has the principle of load balancing across the communities to compute them to be of same size and reduce the number of edges between the groups. The number of communities are calculated beforehand, which makes this method unsuitable for general structural network, as it doesn’t check whether the communities are implicit, and the number of communities is of fixed number. Another, popular approach is to use hierarchical clustering, where based on the similarity between the groups of nodes, communities are detected. The similarity can be calculated using similarity measures such as cosine similarity, jacquard index, and the hamming distance. This model, sets a threshold value, and if the similarity is lower than that, then it qualifies to be a community. The drawback of this method, is that it increases the time complexity by quite a high value. Statistical interference, too is a critical method for community detection, which segregates the communities based on the statistical measures such as likelihood-ratio test, k-means, Bayesian model selection. These measures are scalable, but visualization and understanding of this method is complex compared to the contemporary methods. Our model, the Girvan-Newman algorithm is comparatively a best suit as it is easy to visualize with less time complexity, and evaluates high modularity for the detected communities.
There are various implementations of Girvan-Newman algorithm. As stated by Jana Coronicová Hurajová and Tomáš Madaras in their paper[1], the difference between the
After executing the Girvan-Neman algorithm on the ‘Les Miserables’ dataset, we detect formation of 11 communities within the 77 characters of the novel. This community classification has a modularity of 0.538, which is highest among all other classifications. We observe that these communities, are of family members, fellow prisoners, lovers, friends, and coworkers mentioned in the novel. This result verifies the accuracy of the algorithm, as we see valid relations in the communities. We see communities between the following characters,{‘Myriel', 'OldMan', 'Napoleon', 'MmeMagloire', 'Count', 'Geborand', 'MlleBaptistine', 'Champtercier', 'Cravatte', ‘CountessDeLo'} and {'Gervais', 'Simplice', 'Brevet', 'MmeDeR', 'Isabeau', 'Judge', 'Chenildieu', 'Scaufflaire', 'Woman1', 'Cochepaille', 'Bamatabois', 'Valjean', 'Champmathieu', ‘Labarre’}. These communities are two major groups present in the prison mentioned in the novel.
V.
Fig5: The communities detected between the network of characters of the novel ‘Les Miserables’ after applying the Girvan-Newman algorithm
RELATED WORK

 Project Report, EEL6825 Pattern Recognition and Intelligent Systems, University of Florida, 23rd April 2020
communities can be calculated using group-edge centrality between edges alone. This approach is feasible, but has the disadvantage of reducing the optimum number of communities detected, as it doesn’t take the modularity in consideration as used in our model. Daifeng Li1 , Bing He , Ying Ding suggest the TTR-LDA method for Community Detection in their paper[2], which combines Latent Dirichlet Allocation model (LDA) and the Girvan-Newman algorithm. This method is improved version of the basic algorithm, but, it is comparatively complex, and includes numerous statistical calculations, which are difficult to visualize. Thus, we implement a version which is feasible to visualize, and builds an understanding by using the calculation of modularity for accuracy of community detection.
VI. SUMMARY
A.Conclusion
Altogether, in this project, we designed an unsupervised clustering model for community detection based on Girvan- Newman algorithm on the dataset ‘Les Miserables’, that is much more efficient among its contemporaries.This detailed analysis of the network, and communities helped us understand how a random data of network, can be formed into refined communities based on some nominal measures. These communities helped us analyze the network, and understand data, and the relationships and trends between the entities present. We could detect whether, this community is based on birth-relationships, friends, or fellow prisoners for the characters in ‘Les Miserables’. This study of community detection helped us to know about concepts of edge betweenness and modularity, which could have further applications.
B.Future Scope
Community detection has been a ubiquitous measure in many industries, it helps to shed-light on the structure of network. Many biologist use this to find relations between compounds of a substance, it has been used by many data analyst to monitor the different trends of collections of items preferred by the society using famous e-commerce websites such as Amazon, Walmart to see the choices of people. Also, this method is an obvious measure to analyze formation of communities of users over social-networking site such as Facebook, Twitter.
REFERENCES
1. Jana Coronicová Hurajová & Tomáš Madaras, Revising the Newman- Girvan algorithm ITAT 2016 Proceedings, CEUR Workshop Proceedings Vol. 1649, pp. 200–205
2. Daifeng Li1, Ying Ding, Cassidy Sugimoto, Bing He, Jie Tang, Erjia Yan, Nan Lin, Zheng Qin, Tianxi Dong Modeling Topic and Community Structure in Social Tagging: the TTR-LDA-Community Model School of Information Management and Engineering, Shanghai University of Finance and Economics, Shanghai, China
3. M. Dhilber & S.Durga Bhavani, Community Detection in Social Networks Using Deep Learning. (ICDCIT) International Conference on Distributed Computing and Internet Technology
4. W.-K. Chen, Linear Networks and Systems (Book style). Belmont, CA: Wadsworth, 1993, pp. 123–135. L. Despalatović, T. Vojković & D. Vukicevi.(2014) Community structure in networks: Girvan-Newman algorithm improvement. 37th International Convention on Information and Communication Technology, Electronics and Microelectronics(MIPRO) (997-1002)
5. Hafez A.I., Hassanien A.E. & Fahmy A.A. (2014) Testing Community Detection Algorithms: A Closer Look at Datasets. In: Panda M., Dehuri S., Wang GN. (eds). Social Networking. Intelligent Systems Reference Library, vol 65. Springer, Cham.
6. M. Girvan & M. E. J. Newman(2002) Community structure in social and biological networks. Proceedings of the National Academy of Sciences Jun 2002, 99 (12) 7821-7826; DOI: 10.1073/pnas.122653799
7. Papadopoulos, S., Kompatsiaris, Y., Vakali, & A (2012) Community detection in Social Media. Data Min Knowl Disc 24, 515–554 (2012). https://doi.org/10.1007/s10618-011-0224-z
8. Newman & M.E.J., Girvan.(2004), Finding and evaluating community structure in networks. Physics Rev. E 69(2), 02611
9. Radicchi, F., Castellano, C., Cecconi, F., Loreto, V. & Parisi, D(2004) Defining and identifying communities in networks. Proceedings of the National Academy of Sciences of USA 101(9), 2658–2663
10. Clauset, A., Newman, M.E.J.,Moore, C.(2004), Finding community structure in very large networks. Phys. Rev. E70(6), 066111
11. Jan Kirenz(2019) Social Network Analysis with Python .Statistics and Python
12. Fortunato, S.,(2010), Community detection in graphs. Phys. Rep. 486, 3–5,75–174
13. Hastings, M.B, Community detection as an inference problem. Phys. Rev. E 74(3), 035102 (2006)
14. Tang, L., Liu, H, Community Detection and Mining in Social Media. Morgan & Claypool Publishers (2010)
15. Leskovec, J., Lang, K., Mahoney, M, Empirical Comparison of Algorithms for Network Community Detection. In: ACM WWW International Conference on World Wide Web (2010)Fan, Y.,
16. Li, M., Zhang, P., Wu, J., Di, Z, Accuracy and precision of methods for community identification in weighted networks. Physica A: Statistical Mechanics and its Applications 377(1), 363–372 (2007)
17. Lancichinetti, A., Fortunato, S, Benchmarks for testing community detection algorithms on directed and weighted graphs with overlapping communities. Phys. Rev. E 80(1), 016118 (2009)
18. Jacomy, M., Heymann, S., Venturini, T., Bastian, M, ForceAtlas2, A Continuous Graph Layout Algorithm for Handy Network Visualization. Medialab Center of Research (2012)
